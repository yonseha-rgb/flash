<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grip Studio - ê³ ë„í™” í”„ë¡œí† íƒ€ì… v3</title>
    <style>
        :root {
            --grip-purple: #6e50e9;
            --bg-gray: #f2f2f2;
            --border: #e0e0e0;
        }
        body { font-family: 'Pretendard', sans-serif; margin: 0; background: var(--bg-gray); display: flex; height: 100vh; overflow: hidden; }
        
        /* ë©”ì¸ ë ˆì´ì•„ì›ƒ */
        .sidebar { width: 70px; background: #fff; border-right: 1px solid var(--border); display: flex; flex-direction: column; align-items: center; padding-top: 20px; }
        .main-container { flex: 1; padding: 20px; overflow-y: auto; }
        .section-card { background: #fff; border-radius: 12px; border: 1px solid var(--border); }
        .header { padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
        
        /* ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ */
        .product-item { padding: 15px 20px; border-bottom: 1px solid #f9f9f9; display: flex; align-items: center; }
        .prod-img { width: 60px; height: 60px; border-radius: 6px; margin-right: 15px; background-size: cover; background-position: center; border: 1px solid #eee; }
        .img-coffee { background-image: url('https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=100'); }
        .img-amond { background-image: url('https://images.unsplash.com/photo-1504113891439-59917cbb776b?w=100'); }
        .prod-info { flex: 1; }
        .prod-info h4 { margin: 0 0 5px 0; font-size: 15px; }
        
        .btn-purple { background: var(--grip-purple); color: #fff; border: none; padding: 10px 20px; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .btn-outline { background: #fff; border: 1px solid #ddd; padding: 8px 14px; border-radius: 6px; cursor: pointer; font-size: 13px; font-weight: 500; }

        /* ëª¨ë‹¬ ê³µí†µ */
        .modal-overlay { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center; }
        .modal-box { background: #fff; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.3); }

        /* ê°€ì´ë“œ íŒì—… */
        .guide-box { width: 340px; text-align: center; padding: 40px 20px; }
        .guide-icon { width: 80px; margin-bottom: 20px; }
        .guide-title { font-size: 22px; font-weight: 800; margin-bottom: 15px; }
        .guide-info { font-size: 14px; line-height: 1.8; margin-bottom: 25px; }
        .guide-info b { color: #6e50e9; }
        .btn-start { background: var(--grip-purple); color: #fff; border: none; width: 100%; padding: 15px; border-radius: 30px; font-size: 16px; font-weight: bold; cursor: pointer; margin-bottom: 15px; }

        /* ë“±ë¡/ìˆ˜ì • í¼ */
        .form-box { width: 500px; padding: 25px; }
        .section-title { font-size: 18px; font-weight: 800; display: block; margin-bottom: 12px; color: #000; }
        .capture-area { width: 100%; aspect-ratio: 16/9; background: #000; border-radius: 12px; margin-bottom: 8px; display: flex; align-items: center; justify-content: center; color: #fff; font-size: 12px; }
        .btn-capture-full { width: 100%; padding: 12px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 25px; font-size: 14px; }

        /* ì´ë¯¸ì§€ ìŠ¬ë¡¯ (ë°€ì–´ë‚´ê¸° ëŒ€ì‘) */
        .img-slots { display: flex; gap: 10px; margin-bottom: 25px; }
        .slot { width: 80px; height: 80px; border: 1px dashed #ccc; border-radius: 8px; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 10px; color: #999; cursor: pointer; position: relative; background: #fafafa; background-size: cover; background-position: center; }
        .slot.has-img { border: 1px solid var(--grip-purple); }
        .slot.main-slot::before { content: 'ëŒ€í‘œ'; position: absolute; top:0; left:0; background: var(--grip-purple); color: #fff; padding: 1px 5px; font-size: 9px; border-radius: 7px 0 7px 0; z-index: 2; }
        .btn-delete { position: absolute; top: -6px; right: -6px; width: 22px; height: 22px; background: #000; color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; border: 1.5px solid #fff; cursor: pointer; z-index: 3; }

        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-size: 13px; font-weight: bold; margin-bottom: 6px; }
        .input-group input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
    </style>
</head>
<body>

<div class="sidebar">
    <div style="width:34px; height:34px; background:var(--grip-purple); border-radius:8px;"></div>
</div>

<div class="main-container">
    <div class="section-card">
        <div class="header">
            <h2 style="margin:0; font-size: 20px;">ìŠ¤í† ì–´</h2>
            <button class="btn-purple" onclick="openModal('guide')">í”Œë˜ì‹œ ìƒí’ˆ ë“±ë¡</button>
        </div>
        <div id="product-list">
            <div class="product-item">
                <div class="prod-img img-coffee"></div>
                <div class="prod-info">
                    <h4>coffee</h4>
                    <div style="font-size:13px; color:#666;">ì¬ê³  3 | 500ì›</div>
                </div>
                <div class="action-btns">
                    <button class="btn-outline" onclick="openModal('edit', {name:'coffee', stock:3, price:500})">ìˆ˜ì •</button>
                    <button class="btn-outline" style="font-weight:bold;">NOW</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal-overlay" id="modal-guide">
    <div class="modal-box guide-box">
        <img src="https://cdn-icons-png.flaticon.com/512/685/685655.png" class="guide-icon" alt="camera">
        <div class="guide-title">í”Œë˜ì‹œ ìƒí’ˆ ë“±ë¡</div>
        <div class="guide-info">
            íŒë§¤ì¢…ë£Œ : <b>ë°©ì†¡ ì‹œì‘ í›„ 6ì‹œê°„</b><br>
            ì¹´í…Œê³ ë¦¬ : <b>ë¡œí¼/í”Œë«</b>
        </div>
        <button class="btn-start" onclick="openModal('form')">ì‹œì‘í•˜ê¸°</button><br>
        <button onclick="closeAll()" style="background:none; border:none; color:#999; cursor:pointer;">ì·¨ì†Œ</button>
    </div>
</div>

<div class="modal-overlay" id="modal-form">
    <div class="modal-box form-box">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:25px;">
            <h3 id="form-title" style="margin:0; font-size:18px;">í”Œë˜ì‹œ ìƒí’ˆ ë“±ë¡</h3>
            <span style="cursor:pointer; font-size:20px;" onclick="closeAll()">âœ•</span>
        </div>

        <span class="section-title">ë°©ì†¡í™”ë©´ ì‹¤ì‹œê°„ ìº¡ì²˜í•˜ê¸°</span>
        <div class="capture-area">[ë¼ì´ë¸Œ ì†¡ì¶œ í™”ë©´]</div>
        <button class="btn-capture-full" onclick="addImage('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=100')">ğŸ“¸ í˜„ì¬ í™”ë©´ ìº¡ì²˜</button>

        <span class="section-title">ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸° (ìµœëŒ€ 5ê°œ)</span>
        <div class="img-slots" id="slot-container">
            </div>

        <div class="input-group">
            <label>ìƒí’ˆì œëª©</label>
            <input type="text" id="in-name" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div style="display:flex; gap:15px;">
            <div class="input-group" style="flex:1"><label>íŒë§¤ìˆ˜ëŸ‰</label><input type="number" id="in-stock" placeholder="ê°œìˆ˜"></div>
            <div class="input-group" style="flex:1"><label>íŒë§¤ê°€ê²©</label><input type="number" id="in-price" placeholder="ì›"></div>
        </div>

        <div style="display:flex; gap:10px; margin-top:10px;">
            <button class="btn-outline" style="flex:1; padding:15px;" onclick="closeAll()">ì·¨ì†Œ</button>
            <button class="btn-purple" style="flex:2; padding:15px;" id="submit-btn" onclick="completeProcess()">ë“±ë¡í•˜ê¸°</button>
        </div>
    </div>
</div>

<script>
    let imageList = []; // ì´ë¯¸ì§€ URL ì €ì¥ ë°°ì—´

    function openModal(type, data = null) {
        closeAll();
        if(type === 'guide') {
            document.getElementById('modal-guide').style.display = 'flex';
        } else if(type === 'form' || type === 'edit') {
            document.getElementById('modal-form').style.display = 'flex';
            const isEdit = type === 'edit';
            document.getElementById('form-title').innerText = isEdit ? 'í”Œë˜ì‹œ ìƒí’ˆ ìˆ˜ì •' : 'í”Œë˜ì‹œ ìƒí’ˆ ë“±ë¡';
            document.getElementById('submit-btn').innerText = isEdit ? 'ìˆ˜ì • ì™„ë£Œ' : 'ë“±ë¡í•˜ê¸°';
            
            if(isEdit) {
                document.getElementById('in-name').value = data.name;
                document.getElementById('in-stock').value = data.stock;
                document.getElementById('in-price').value = data.price;
                imageList = ['https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=100']; // ìˆ˜ì • ì‹œ ê¸°ì¡´ ì´ë¯¸ì§€ ì¬í˜„
            } else {
                resetForm();
            }
            renderSlots();
        }
    }

    function renderSlots() {
        const container = document.getElementById('slot-container');
        container.innerHTML = '';
        
        // 5ê°œì˜ ìŠ¬ë¡¯ì„ í•­ìƒ ìœ ì§€
        for(let i = 0; i < 5; i++) {
            const slot = document.createElement('div');
            slot.className = 'slot';
            if(i === 0) slot.classList.add('main-slot');
            
            if(imageList[i]) {
                // ì´ë¯¸ì§€ê°€ ìˆëŠ” ê²½ìš°
                slot.classList.add('has-img');
                slot.style.backgroundImage = `url('${imageList[i]}')`;
                slot.innerHTML = `<div class="btn-delete" onclick="removeImage(${i})">âœ•</div>`;
            } else {
                // ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš° (ë¹ˆ ìŠ¬ë¡¯)
                if(i === 0) slot.innerText = 'ëŒ€í‘œ';
                else if(i === imageList.length) slot.innerText = '+ íŒŒì¼ì°¾ê¸°';
                else slot.innerText = '+';
                slot.onclick = () => addImage('https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=100');
            }
            container.appendChild(slot);
        }
    }

    function addImage(url) {
        if(imageList.length >= 5) {
            alert('ìµœëŒ€ 5ê°œê¹Œì§€ ë“±ë¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
            return;
        }
        imageList.push(url);
        renderSlots();
    }

    function removeImage(index) {
        event.stopPropagation();
        // ë°°ì—´ì—ì„œ í•´ë‹¹ ì¸ë±ìŠ¤ ì‚­ì œ (ë’¤ì— ìˆëŠ” ìš”ì†Œë“¤ì´ ìë™ìœ¼ë¡œ ì•ìœ¼ë¡œ ë‹¹ê²¨ì§)
        imageList.splice(index, 1);
        renderSlots();
    }

    function completeProcess() {
        const mode = document.getElementById('submit-btn').innerText;
        alert(`${mode}ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.`);
        closeAll(); // ë ˆì´ì–´ íŒì—… ë‹«ê¸°
    }

    function closeAll() {
        document.querySelectorAll('.modal-overlay').forEach(m => m.style.display = 'none');
    }

    function resetForm() {
        document.getElementById('in-name').value = '';
        document.getElementById('in-stock').value = '';
        document.getElementById('in-price').value = '';
        imageList = [];
    }
</script>

</body>
</html>
